/*
jquery-ajax-contact-form - 1.0.0 - 16-09-2015
A modular and elegant way to create Ajax-Powered Contact Forms with jQuery
Copyright (c) 2015 Julien Vernet <julien@vernet.me>
https://github.com/SiamKreative/jQuery-Ajax-Contact-Form.git
*/
jQuery(document).ready(function(a){a("form[data-form-ajax]").on("submit",function(b){function c(){a.ajax({type:d.attr("method"),url:d.attr("action"),data:d.serialize(),dataType:"json",encode:!0}).done(function(a){a.success?(e.prop("disabled",!1).text("Email sent!"),"undefined"!=typeof f&&f!==!1?window.location=f:"undefined"!=typeof g&&g!==!1?d.append('<div class="alert alert-success form-status">'+g+"</div>"):d.append('<div class="alert alert-success form-status">'+a.success+"</div>")):d.append('<div class="alert alert-danger form-status">Oops something went wrong. Email us at <a href="mailto:'+h+'">'+h+"</a>.</div>")})}var d=a(this),e=a('[type="submit"]',d),f=d.attr("data-form-redirect"),g=d.attr("data-form-success"),h=d.attr("action").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi),i="";e.prop("disabled",!1).text("Sending..."),a.ajax({dataType:"json",url:"//freegeoip.net/json/",timeout:5e3}).done(function(b){a.each(b,function(a,b){i+='<input type="hidden" name="geodata_'+a+'" value="'+b+'">'}),d.append(i)}).fail(function(a,b,c){console.warn("AJAX error!",c),console.log(a)}).always(function(){c()}),b.preventDefault()})});